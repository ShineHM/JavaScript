<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<!-- <button type="button">点击</button> -->
		<script type="text/javascript">
			
/* 			var btn = document.querySelector('button')
			//1.普通函数	this指向window
			function fn(){
				console.log('普通函数	this'+ this);
			}
			window.fn();//fn.call();
			//2.对象的方法	this指向对象a，因为a调用了函数
			var a = {
				say:function(){
					console.log('对象的方法	this'+ this);
				}
			}
			a.say();
			//3.构造函数	this指向实例对象mm，在原型对象中的this也是指向实例对象
			function star (){}
			star.prototype.sing = function(){}
			var mm = new star();
			//4.绑定事件函数	this指向的是函数的调用者，就是绑定给谁指向谁
			btn.onclick = function(){
				console.log('绑定事件函数	this'+ this);
			}//点击了按钮就可以调用
			//5.定时器函数	this指向的是window
			window.setInterval(function(){
				console.log('定时器函数	this'+ this);
			},1000)//这个函数定时器自动一秒钟调用一次
			//6.立即执行函数	this也指向window，相当于一个普通函数
			(function(){
				console.log('立即执行函数	this'+ this);
			})();//自己会自动立即执行 */
			
			
			//改变函数内的this指向，js提供了三种方法 call（）	apply（）	bind（）
			
			/* //1.call（）
			var a =  {
				name:'苗苗'
			}
			function fn(a,b){
				console.log(this);//a对象
				console.log(a + b);//3
			}
			fn.call(a,1,2);
			//call（）可以调用函数，可以改变函数中的this指向
			//call（）可以实现继承
			function Father(uname,age){
				this.uname = uname;
				this.age = age;
			}
			function Son(uname,age){
				Father.call(this,uname,age);
			}
			var son = new Son('苗苗',20);
			console.log(son);//此时son中就有了uname，age属性
			
			//2.apply（）
			var b = {
				name:'蓝蓝'
			}
			function fn(arr){
				console.log(this);//b对象
				console.log(arr);//hi
			}
			fn.apply(b,['hi']);
			//apply（）可以调用函数，可以改变函数中的this指向，但它的参数必须是数组（位数组）
			//apply（）主要应用，比如我们可以使用apply（）借助于数学内置对象求最大值
			var arr = [1,66,3,99,4];
			var max = Math.max.apply(Math,arr);
			console.log(max);//99
			
			//3.（用的较多）bind（）不会调用函数，但是能改变函数内部this指向，返回由指定的this值和初始化参数改造的原函数拷贝
			var c =  {
				name:'hello'
			}
			function fn(a,b){
				console.log(this);//指向c函数
				console.log(a + b);//3
			}
			var f = fn.bind(c,1,2);
			f();
			//返回的是原函数改变this之后产生的新函数
			//如果有的函数我们不需要立即调用，但是又想改变这个函数内部的this指向，此时bind方便
			//比如我没有一个按钮，当我们点击了之后，就禁用这个按钮，三秒钟之后开启这个按钮
			var btn = document.querySelector('button');
			btn.onclick = function(){
				this.disabled = true;//this指向btn这个按钮
				//var that = this;
				setTimeout(function(){
					this.disabled = false;
					//that.disabled = false;//定时器this指向window
				}.bind(this),3000)//this在定时器外面绑定的，但又在btn里面，this指向btn这个对象
				//为什么不写bind（btn）？因为万一有多个按钮会不知道点了那个，用this更准确
			} */
		</script>
		
		
		<!-- 为整个脚本（script标签）开启严格模式 两个方法-->
		<<!-- script type="text/javascript">
			'use strict';
			//下面的js代码会按照严格模式执行
		</script>
		<script type="text/javascript">
			(function(){
				//IE10以下的版本会把它当成字符串解析
				'use strict';
			})();
		</script> -->
		
		<!-- 为某个函数开启严格模式 -->
		<!-- <script type="text/javascript">
			function fn(){
				//此时只是给fn函数开启了严格模式，下面代码会按严格模式执行
				'use strict';
			}
			function fun(){
				//里面的还是按照普通函数执行
			}
		</script> -->
		
		
			
		<script type="text/javascript">
			//高阶函数，函数可以作为参数传递
			function fn(a,b,callback){
				console.log(a + b);
				callback && callback();
			}
			fn(1,2,function(){
				console.log('我是最后调用的');
			});
		</script>
	</body>
</html>
